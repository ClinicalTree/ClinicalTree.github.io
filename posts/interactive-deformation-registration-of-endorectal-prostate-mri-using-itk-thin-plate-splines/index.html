<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Interactive Deformation Registration of Endorectal Prostate MRI Using ITK Thin Plate Splines" /><meta property="og:locale" content="en" /><meta name="description" content="Rationale and Objectives" /><meta property="og:description" content="Rationale and Objectives" /><link rel="canonical" href="https://clinicaltree.github.io/posts/interactive-deformation-registration-of-endorectal-prostate-mri-using-itk-thin-plate-splines/" /><meta property="og:url" content="https://clinicaltree.github.io/posts/interactive-deformation-registration-of-endorectal-prostate-mri-using-itk-thin-plate-splines/" /><meta property="og:site_name" content="Radiology Tree" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2009-02-28T17:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Interactive Deformation Registration of Endorectal Prostate MRI Using ITK Thin Plate Splines" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="RFHVRgQqK0eGjftEMCTDhsDrR8cJ_ZYcfCX52gXW8KM" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-07T07:15:32+00:00","datePublished":"2009-02-28T17:00:00+00:00","description":"Rationale and Objectives","headline":"Interactive Deformation Registration of Endorectal Prostate MRI Using ITK Thin Plate Splines","mainEntityOfPage":{"@type":"WebPage","@id":"https://clinicaltree.github.io/posts/interactive-deformation-registration-of-endorectal-prostate-mri-using-itk-thin-plate-splines/"},"url":"https://clinicaltree.github.io/posts/interactive-deformation-registration-of-endorectal-prostate-mri-using-itk-thin-plate-splines/"}</script><title>Interactive Deformation Registration of Endorectal Prostate MRI Using ITK Thin Plate Splines | Radiology Tree</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Radiology Tree"><meta name="application-name" content="Radiology Tree"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://storage.googleapis.com/clinicalpub.com/images/favicon.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Radiology Tree</a></div><div class="site-subtitle font-italic">Update every day the best and the lastest articles, books, journals, clinical cases, videos, images... for radiologist</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/clinicaltree" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['clinicalpub.team','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Interactive Deformation Registration of Endorectal Prostate MRI Using ITK Thin Plate Splines</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Interactive Deformation Registration of Endorectal Prostate MRI Using ITK Thin Plate Splines</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1235840400" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Feb 28, 2009 </em> </span> <span> Updated <em class="" data-ts="1680851732" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 7, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="">M. Rex Cheung MD PhD</a> </em>, <em> <a href="">Karthik Krishnan MS</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2075 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h2 id="rationale-and-objectives"><span class="mr-2">Rationale and Objectives</span><a href="#rationale-and-objectives" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Magnetic resonance imaging with an endorectal coil allows high-resolution imaging of prostate cancer and the surrounding normal organs. These anatomic details can be used to direct radiotherapy. However, organ deformation introduced by the endorectal coil makes it difficult to register magnetic resonance images for treatment planning. In this study, plug-ins for the volume visualization software VolView were implemented on the basis of algorithms from the National Library of Medicine’s Insight Segmentation and Registration Toolkit (ITK).</p><h2 id="materials-and-methods"><span class="mr-2">Materials and Methods</span><a href="#materials-and-methods" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Magnetic resonance images of a phantom simulating human pelvic structures were obtained with and without the endorectal coil balloon inflated. The prostate not deformed by the endorectal balloon was registered to the deformed prostate using an ITK thin plate spline (TPS). This plug-in allows the use of crop planes to limit the deformable registration in the region of interest around the prostate. These crop planes restricted the support of the TPS to the area around the prostate, where most of the deformation occurred. The region outside the crop planes was anchored by grid points.</p><h2 id="results"><span class="mr-2">Results</span><a href="#results" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The TPS was more accurate in registering the local deformation of the prostate compared with a TPS variant, the elastic body spline. The TPS was also applied to register an in vivo T 2 -weighted endorectal magnetic resonance image. The intraprostatic tumor was accurately registered. This could potentially guide the boosting of intraprostatic targets. The source and target landmarks were placed graphically. This TPS plug-in allows the registration to be undone. The landmarks could be added, removed, and adjusted in real time and in three dimensions between repeated registrations.</p><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This interactive TPS plug-in allows a user to obtain a high level of accuracy satisfactory to a specific application efficiently. Because it is open-source software, the imaging community will be able to validate and improve the algorithm.</p><p>Magnetic resonance imaging (MRI) enhanced by an endorectal coil provides anatomic details of both prostate tumor and the surrounding normal tissues . Incorporating information from MRI studies into radiotherapy treatment may enable the direction of radiation to boost resistant areas, without increasing the dose to surrounding tissues. Various image registration methods have recently been studied to incorporate MRI information for radiation treatment planning and monitoring . Because the information needed for radiation treatment planning is concentrated in and around the prostate, the thin plate spline (TPS) approach appears to be an efficient and accurate way to perform deformable registration . Here, we report our implementation and assessment of plug-ins based on algorithms available in the open source Insight Segmentation and Registration Toolkit (ITK; National Library of Medicine, Bethesda, MD). In particular, we adapted a physics-based ITK TPS plug-in to run interactively in the volume visualization software VolView version 2.0 (Kitware, Inc, Clifton Park, NY) . The interactive nature of the plug-in allows landmarks to be added, removed, and adjusted in real time between repeated registrations. We evaluated the accuracy of the TPS in registering the local deformation of the prostate compared with a TPS variant, the elastic body spline (EBS). To illustrate potential clinical utility, we also applied the TPS to register an in vivo T 2 -weighted endorectal magnetic resonance image. The intraprostatic tumor was accurately registered. This could potentially guide the boosting of intraprostatic targets.</p><h2 id="materials-and-methods-1"><span class="mr-2">Materials and methods</span><a href="#materials-and-methods-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h2 id="magnetic-resonance-images"><span class="mr-2">Magnetic Resonance Images</span><a href="#magnetic-resonance-images" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>A deformable pelvic phantom was custom made for our image registration study. Our earlier studies have been reported . Pertinent to this study, the magnetic resonance numbers for the prostate, seminal vesicles, bladder, and rectal wall were specified to simulate those of humans. The phantom was made of tissue-substitute materials by blending epoxy resins, urethanes, water-based polymers, and other proprietary materials (CIRS, Inc, Norfolk, VA). The University of Texas M.D. Anderson Cancer Center’s institutional review board approved this retrospective study.</p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="image-registration-work-flow"><span class="mr-2">Image Registration Work Flow</span><a href="#image-registration-work-flow" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="adaptation-of-the-itk-tps-as-a-volview-plug-in"><span class="mr-2">Adaptation of the ITK TPS as a VolView Plug-In</span><a href="#adaptation-of-the-itk-tps-as-a-volview-plug-in" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p>μ∇2u→(x→)+(μ+λ)∇[∇∙u→(x→)]=f→(x→), μ</p><p>∇</p><p>2</p><p>u</p><p>→</p><p>(</p><p>x</p><p>→</p><p>)</p><p>+</p><p>(</p><p>μ</p><p>+</p><p>λ</p><p>)</p><p>∇</p><p>[</p><p>∇</p><p>•</p><p>u</p><p>→</p><p>(</p><p>x</p><p>→</p><p>)</p><p>]</p><p>=</p><p>f</p><p>→</p><p>(</p><p>x</p><p>→</p><p>)</p><p>,</p><p>where u→(x→) u</p><p>→</p><p>(</p><p>x</p><p>→</p><p>) is the displacement from the original position x→ x</p><p>→ ; ∇2 ∇</p><p>2 and ∇ ∇ are the Lapacian and gradient operators, respectively; the force field f→(x→)=c→r(x→) f</p><p>→</p><p>(</p><p>x</p><p>→</p><p>)</p><p>=</p><p>c</p><p>→</p><p>r</p><p>(</p><p>x</p><p>→</p><p>) ; position vector r→(x→)=∣∣x→∣∣=[x21+x22+x23]1/2 r</p><p>→</p><p>(</p><p>x</p><p>→</p><p>)</p><p>=</p><p>|</p><p>x</p><p>→</p><p>|</p><p>=</p><p>[</p><p>x</p><p>1</p><p>2</p><p>+</p><p>x</p><p>2</p><p>2</p><p>+</p><p>x</p><p>3</p><p>2</p><p>]</p><p>1</p><p>/</p><p>2 ; μ and λ are the coefficients that describe the physical properties of the materials; and ∇∙u→(x→) ∇</p><p>•</p><p>u</p><p>→</p><p>(</p><p>x</p><p>→</p><p>) is the divergence of u→(x→) u</p><p>→</p><p>(</p><p>x</p><p>→</p><p>) . The solution to Equation 1 given the force field is</p><p>u→(x→)=G(x→)c→, u</p><p>→</p><p>(</p><p>x</p><p>→</p><p>)</p><p>=</p><p>G</p><p>(</p><p>x</p><p>→</p><p>)</p><p>c</p><p>→</p><p>,</p><p>where</p><p>G(x→)=[αr(x→)I−3x→x→T]r(x→). G</p><p>(</p><p>x</p><p>→</p><p>)</p><p>=</p><p>[</p><p>α</p><p>r</p><p>(</p><p>x</p><p>→</p><p>)</p><p>I</p><p>−</p><p>3</p><p>x</p><p>→</p><p>x</p><p>→</p><p>T</p><p>]</p><p>r</p><p>(</p><p>x</p><p>→</p><p>)</p><p>.</p><p>The Poisson ratio υ = λ/[2(λ + μ)], α = 12(1 − υ) − 1, and <em>I</em> is the identity matrix. The form of G(x→) G</p><p>(</p><p>x</p><p>→</p><p>) for the ITK TPS implementation used in this study is as follows:</p><p>G(x→)=Ir(x→). G</p><p>(</p><p>x</p><p>→</p><p>)</p><p>=</p><p>I</p><p>r</p><p>(</p><p>x</p><p>→</p><p>)</p><p>.</p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="variants-of-the-tps"><span class="mr-2">Variants of the TPS</span><a href="#variants-of-the-tps" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p>G(x)=r(x)2log[r(x)]×I; G</p><p>(</p><p>x</p><p>)</p><p>=</p><p>r</p><p>(</p><p>x</p><p>)</p><p>2</p><p>log</p><p>[</p><p>r</p><p>(</p><p>x</p><p>)</p><p>]</p><p>×</p><p>I</p><p>;</p><p>the EBS,</p><p>G(x)={[12×(1−v)−1]r[x]2×I−3xxT}×r(x), G</p><p>(</p><p>x</p><p>)</p><p>=</p><p>{</p><p>[</p><p>12</p><p>×</p><p>(</p><p>1</p><p>−</p><p>v</p><p>)</p><p>−</p><p>1</p><p>]</p><p>r</p><p>[</p><p>x</p><p>]</p><p>2</p><p>×</p><p>I</p><p>−</p><p>3</p><p>x</p><p>x</p><p>T</p><p>}</p><p>×</p><p>r</p><p>(</p><p>x</p><p>)</p><p>,</p><p>where ν is the Poisson ratio; the elastic body reciprocal spline,</p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p>G(x)={[8×(1−v)−1]r[x]×I−3xxT/r(x)}; G</p><p>(</p><p>x</p><p>)</p><p>=</p><p>{</p><p>[</p><p>8</p><p>×</p><p>(</p><p>1</p><p>−</p><p>v</p><p>)</p><p>−</p><p>1</p><p>]</p><p>r</p><p>[</p><p>x</p><p>]</p><p>×</p><p>I</p><p>−</p><p>3</p><p>x</p><p>x</p><p>T</p><p>/</p><p>r</p><p>(</p><p>x</p><p>)</p><p>}</p><p>;</p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p>G(x)=r(x)3×I. G</p><p>(</p><p>x</p><p>)</p><p>=</p><p>r</p><p>(</p><p>x</p><p>)</p><p>3</p><p>×</p><p>I</p><p>.</p><p>These variants are based on variants plugged into the solution of <em>G</em> ( <em>x</em> ) . In this study, we investigated the accuracy of the TPS and the ITK EBS for the deformable registration of endorectal magnetic resonance images of the prostate.</p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="landmark-placement"><span class="mr-2">Landmark Placement</span><a href="#landmark-placement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="results-1"><span class="mr-2">Results</span><a href="#results-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="tps-deformable-manual-alignment"><span class="mr-2">TPS Deformable Manual Alignment</span><a href="#tps-deformable-manual-alignment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/0_1s20S1076633208005692.jpg" class="popup img-link "><img data-src="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/0_1s20S1076633208005692.jpg" alt="Figure 1, (a) Slice slowing landmark pairs placed by the user to construct the thin plate spline (TPS) transform. The red landmarks were placed on the endorectal magnetic resonance image. The green landmarks were placed on the planning image. The planning image was deformed using the resulting TPS transform and overlaid on the endorectal image to show the accuracy of the registration. If the results are dissatisfactory, a user can adjust the landmark pairs and rerun the registration to obtain the overlay again. (b) Deformation field resulting from the TPS transform. The segmentation of the planning image was warped using the inverse field and overlaid on a slice of the balloon-deflated image. The maximum deformation of 7.5 mm occurred at the prostate-rectum interface." class="lazyload" data-proofer-ignore></a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/1_1s20S1076633208005692.jpg" class="popup img-link "><img data-src="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/1_1s20S1076633208005692.jpg" alt="Figure 2, The deformed grid as a result of the thin plate spline. Target landmarks are shown in red . Source landmarks are shown in green ." class="lazyload" data-proofer-ignore></a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="comparison-of-tps-variants"><span class="mr-2">Comparison of TPS Variants</span><a href="#comparison-of-tps-variants" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/2_1s20S1076633208005692.jpg" class="popup img-link "><img data-src="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/2_1s20S1076633208005692.jpg" alt="Figure 3, The deformed grid as a result of the elastic body spline. Target landmarks are shown in red . Source landmarks are shown in green ." class="lazyload" data-proofer-ignore></a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/3_1s20S1076633208005692.jpg" class="popup img-link "><img data-src="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/3_1s20S1076633208005692.jpg" alt="Figure 4, (a) Thin plate spline and (b) elastic body spline kernels obtained by displacing one of the landmark correspondence pairs." class="lazyload" data-proofer-ignore></a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="clinical-example"><span class="mr-2">Clinical Example</span><a href="#clinical-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/4_1s20S1076633208005692.jpg" class="popup img-link "><img data-src="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/4_1s20S1076633208005692.jpg" alt="Figure 5, Axial image from a T 2 -weighted prostate magnetic resonance imaging study with an endorectal probe (a) and without the probe (b) . (c) Thin plate spline registration of the image in (a) . Source ( green ) and target ( red ) landmarks are shown." class="lazyload" data-proofer-ignore></a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><p><a href="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/5_1s20S1076633208005692.jpg" class="popup img-link "><img data-src="https://storage.googleapis.com/dl.dentistrykey.com/clinical/InteractiveDeformationRegistrationofEndorectalProstateMRIUsingITKThinPlateSplines/5_1s20S1076633208005692.jpg" alt="Figure 6, (a) Checkerboard display of the registered magnetic resonance image and the target image. (b) Prostate and tumor contours prior to and after registration, overlaid on the target image. The green contours correspond to the initial positions of the prostate (thick contour) and the tumor (thin contour) prior to registration. The blue contours correspond to expected positions of the prostate (thick contour) and the tumor (thin contour) after registration." class="lazyload" data-proofer-ignore></a></p><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="future-work"><span class="mr-2">Future Work</span><a href="#future-work" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="conclusion-1"><span class="mr-2">Conclusion</span><a href="#conclusion-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://clinicalpub.com/app">Get Radiology Tree app to read full this article&lt;</a></p><h2 id="references"><span class="mr-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>1. Villeirs G.M., Verstraete K.L., De Neve W.J., De Meerleer G.O.: Magnetic resonance imaging anatomy of the prostate and periprostatic area: a guide for radiotherapists. Radiother Oncol 2005; 76: pp. 99-106.</p><li><p>2. McLaughlin P.W., Troyer S., Berri S., et. al.: Functional anatomy of the prostate: implications for treatment planning. Int J Radiat Oncol Biol Phys 2005; 63: pp. 479-491.</p><li><p>3. Dean D., Herbener T.E.: Cross-sectional human anatomy.2000.Lippincott Williams &amp; WilkinsPhiladelphia, PA 191</p><li><p>4. van Lin E.N., Futterer J.J., Heijmink S.W., et. al.: IMRT boost dose planning on dominant intraprostatic lesions: gold marker-based three-dimensional fusion of CT with dynamic contrast-enhanced and 1H-spectroscopic MRI. Int J Radiat Oncol Biol Phys 2006; 65: pp. 291-303.</p><li><p>5. Alterovitz R., Goldberg K., Pouliot J., et. al.: Registration of MR prostate images with biomechanical modeling and nonlinear parameter estimation. Med Phys 2006; 33: pp. 446-454.</p><li><p>6. Hensel J.M., Ménard C., Chung P.W., et. al.: Development of multiorgan finite element-based prostate deformation model enabling registration of endorectal coil magnetic resonance imaging for radiotherapy planning. Int J Radiat Oncol Biol Phys 2007; 68: pp. 1522-1528.</p><li><p>7. Schreibmann E., Xing L.: Narrow band deformable registration of prostate magnetic resonance imaging, magnetic resonance spectroscopic imaging, and computed tomography studies. Int J Radiat Oncol Biol Phys 2005; 62: pp. 595-605.</p><li><p>8. Zhong H., Peters T., Siebers J.V.: FEM-based evaluation of deformable image registration for radiation therapy. Phys Med Biol 2007; 52: pp. 4721-4738.</p><li><p>9. Davis M.H., Khotanzad A., Flamig D.P., Harms S.E.: A physics-based coordinate transformation for 3-D image matching. IEEE Trans Med Imaging 1997; 16: pp. 317-328.</p><li><p>10. Bookstein F.L.: Principal warps: thin-plate splines and the decomposition of deformations. IEEE Trans Pattern Anal Mach Intell 1989; 11: pp. 567-585.</p><li><p>11. Lian J., Xing L., Hunjan S., et. al.: Mapping of the prostate in endorectal coil-based MRI/MRSI and CT: a deformable registration and validation study. Med Phys 2004; 31: pp. 3087-3094.</p><li><p>12. Fei B., Duerk J.L., Sodee D.B., Wilson D.L.: Semiautomatic nonrigid registration for the prostate and pelvic MR volumes. Acad Radiol 2005; 12: pp. 815-824.</p><li><p>13. Schaly B., Bauman G.S., Battista J.J., Van Dyk J.: Validation of contour-driven thin-plate splines for tracking fraction-to-fraction changes in anatomy and radiation therapy dose mapping. Phys Med Biol 2005; 50: pp. 459-475.</p><li><p>14. Martin K., Ibáñez L., Avila L., Barré S., Kaspersen J.H.: Integrating segmentation methods from the Insight Toolkit into a visualization application. Med Image Anal 2005; 9: pp. 579-593.</p><li><p>15. Wang H., Dong L., Lii M.F., et. al.: Implementation and validation of a three-dimensional deformable registration algorithm for targeted prostate cancer radiotherapy. Int J Radiat Oncol Biol Phys 2005; 61: pp. 725-735.</p><li><p>16. Prata S.: C++ primer plus.5th ed.2005.SamsIndianapolis, IN</p><li><p>17. Sprengel R., Rohr D., Stiehl H.: Thin-plate spline approximation for image registration.1996.Presented at: 18th International Conference of the IEEE Engineering in Medicine and Biology Society</p><li><p>18. Horn B.K.P.: Closed-form solution of absolute orientation using unit quaternions. J Optical Soc Am 1987; 4: pp. 629-642.</p><li><p>19. Cheung R., Tucker S.L., Lee A.K., et. al.: Dose-response characteristics of low- and intermediate-risk prostate cancer treated with external beam radiotherapy. Int J Radiat Oncol Biol Phys 2005; 61: pp. 993-1002.</p><li><p>20. Cheung R., Tucker S.L., Dong L., Kuban D.: Dose-response for biochemical control among high-risk prostate cancer patients after external beam radiotherapy. Int J Radiat Oncol Biol Phys 2003; 56: pp. 1234-1240.</p><li><p>21. Cheung R., Tucker S.L., Ye J.S., et. al.: Characterization of rectal normal tissue complication probability after high-dose external beam radiotherapy for prostate cancer. Int J Radiat Oncol Biol Phys 2004; 58: pp. 1513-1519.</p><li><p>22. Cheung R., Tucker S.L., Dong L., et. al.: Identification of the bladder dose and volume factors to control late urinary toxicity after external beam radiotherapy for prostate cancer. Int J Radiat Oncol Biol Phys 2007; 67: pp. 1059-1065.</p><li><p>23. Pickett B., Kurhanewicz j, Coakley F., Shinohara K., Fein B., Roach M.I.: Use of MRI and spectroscopy in evaluation of external beam radiotherapy for prostate cancer. Int J Radiat Oncol Biol Phys 2004; 60: pp. 1047-1055.</p><li><p>24. Li C., Liengsawangwong R., Choi H., Cheung R.: Using a priori structural information from magnetic resonance imaging to investigate the feasibility of prostate diffuse optical tomography and spectroscopy: a simulation study. Med Phys 2007; 34: pp. 266-274.</p><li><p>25. Yushkevich P.A., Piven J., Cody H., Ho S., Gee J.C., Gerig G.: User-guided active contour segmentation of anatomical structures: significantly improved efficiency and reliability. Neuroimage 2006; 31: pp. 1116-1128.</p></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/academic-radiology/'>Academic Radiology</a>, <a href='/categories/volume-16/'>Volume 16</a>, <a href='/categories/issue-3/'>Issue 3</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/journals/" class="post-tag no-text-decoration" >Journals</a> <a href="/tags/general-radiology/" class="post-tag no-text-decoration" >General Radiology</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Interactive%20Deformation%20Registration%20of%20Endorectal%20Prostate%20MRI%20Using%20ITK%20Thin%20Plate%20Splines%20-%20Radiology%20Tree&url=https%3A%2F%2Fclinicaltree.github.io%2Fposts%2Finteractive-deformation-registration-of-endorectal-prostate-mri-using-itk-thin-plate-splines%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Interactive%20Deformation%20Registration%20of%20Endorectal%20Prostate%20MRI%20Using%20ITK%20Thin%20Plate%20Splines%20-%20Radiology%20Tree&u=https%3A%2F%2Fclinicaltree.github.io%2Fposts%2Finteractive-deformation-registration-of-endorectal-prostate-mri-using-itk-thin-plate-splines%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fclinicaltree.github.io%2Fposts%2Finteractive-deformation-registration-of-endorectal-prostate-mri-using-itk-thin-plate-splines%2F&text=Interactive%20Deformation%20Registration%20of%20Endorectal%20Prostate%20MRI%20Using%20ITK%20Thin%20Plate%20Splines%20-%20Radiology%20Tree" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/neurometabolites-alteration-in-the-acute-phase-of-mild-traumatic-brain-injury-mtbi/">Neurometabolites Alteration in the Acute Phase of Mild Traumatic Brain Injury (mTBI)</a><li><a href="/posts/reinforcing-the-importance-and-feasibility-of-implementing-a-low-dose-protocol-for-ct-guided-biopsie/">Reinforcing the Importance and Feasibility of Implementing a Low-dose Protocol for CT-guided Biopsies</a><li><a href="/posts/rethinking-the-pgy-1-basic-clinical-year/">Rethinking the PGY-1 Basic Clinical Year</a><li><a href="/posts/single-injection-dual-phase-cone-beam-ct-dp-cbct-vascular-anatomy-assessment-and-occult-nodule-det/">Single Injection Dual-Phase Cone Beam CT (DP-CBCT) Vascular Anatomy Assessment and Occult Nodule Detection; Have We Reached the Focus?</a><li><a href="/posts/the-yellow-scale-is-superior-to-the-gray-scale-for-detecting-acute-ischemic-stroke-on-a-monitor-disp/">The Yellow Scale Is Superior to the Gray Scale for Detecting Acute Ischemic Stroke on a Monitor Display in Computed Tomography</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/general-radiology/">General Radiology</a> <a class="post-tag" href="/tags/journals/">Journals</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/3d-ct-volumetry-of-the-lung-using-multidetector-row-ct/"><div class="card-body"> <em class="small" data-ts="1235840400" data-df="ll" > Feb 28, 2009 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>3D-CT Volumetry of the Lung Using Multidetector Row CT</h3><div class="text-muted small"><p> Rationale and Objectives The aim of this study was to evaluate the accuracy of measurements of lung volumes reconstructed using three-dimensional computed tomographic (CT) imaging from thin-sectio...</p></div></div></a></div><div class="card"> <a href="/posts/a-few-words-about-lobbying/"><div class="card-body"> <em class="small" data-ts="1235840400" data-df="ll" > Feb 28, 2009 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>A few words about lobbying</h3><div class="text-muted small"><p> During the 2008 presidential campaign, both the winner and the loser spent a considerable amount of rhetoric denouncing the activities of lobbyists, scorning (but not always spurning) donations fro...</p></div></div></a></div><div class="card"> <a href="/posts/abstracts-of-funded-national-institutes-of-health-grants/"><div class="card-body"> <em class="small" data-ts="1235840400" data-df="ll" > Feb 28, 2009 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Abstracts of Funded National Institutes of Health Grants</h3><div class="text-muted small"><p> A novel device to allow zoom-in imaging for PET scanners Grant Number:5R33CA110011-04PI Name:Tai, Yuan-Chuan Abstract: Description (provided by applicant): Positron emission tomography (PET) has ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/influence-of-magnetic-resonance-contrast-media-on-the-activity-of-histamine-inactivating-enzymes/" class="btn btn-outline-primary" prompt="Older"><p>Influence of Magnetic Resonance Contrast Media on the Activity of Histamine Inactivating Enzymes</p></a> <a href="/posts/mri-interpretation-proficiency-of-musculoskeletal-fellows-in-training/" class="btn btn-outline-primary" prompt="Newer"><p>MRI Interpretation Proficiency of Musculoskeletal Fellows in Training</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/general-radiology/">General Radiology</a> <a class="post-tag" href="/tags/journals/">Journals</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">Clinical Team</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1.11.6/dayjs.min.js,npm/dayjs@1.11.6/locale/en.min.js,npm/dayjs@1.11.6/plugin/relativeTime.min.js,npm/dayjs@1.11.6/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-L66SLQK23K"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-L66SLQK23K'); }); </script>
